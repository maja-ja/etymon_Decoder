# Etymon Decoder 專案說明文件

這是一個基於 **Streamlit** 開發的英語字根學習工具。專案核心採用 **Google Sheets 雲端同步** 機制，並輔以自動化的在地化備援邏輯，為使用者提供流暢且穩定的字根學習體驗。

## 核心架構與邏輯

### 1. 雲端優先同步邏輯 (Cloud-First Sync)

* **即時讀取**：啟動時透過 `pandas` 串接 Google Sheets API (CSV 終端)，直接抓取雲端最新的單字表。
* **在地快取與備援**：成功讀取後會自動產生 `etymon_database.json` 作為備援快取。若雲端連結失效（如斷網），系統將無縫切換至備援檔案。
* **數據結構化**：將扁平的試算表列（Row）轉化為「分類 > 字根組 > 單字」的巢狀層級，以利於高效搜尋與展示。

### 2. 資料層級設計 (Data Hierarchy)

資料在程式內部以以下邏輯組織：

* **分類 (Category)**：最高層級，如「高中常見字根」、「醫學術語」。
* **字根組 (Root Group)**：包含多個同義字根及其核心意義（如 `vis/vid` 代表「看」）。
* **單字庫 (Vocabulary)**：具體的單字內容，包含字構拆解（Breakdown）與定義。

---

## 功能模組說明
---
## 資料產出邏輯
如果聽到有任何人喊停！！大家都不能動。如果沒有：
第一個人要從一份資料裡找出「年紀」、「單字」、「領域」、「前綴」、「字根」、「後綴」、「讀音」、「畫面形容」「領域應用」的問題，如果他的小本本：
有「年紀」、「單字」、「領域」、「前綴」、「字根」、「後綴」、「讀音」、「畫面形容」「領域應用」的問題，換一個重寫。。
沒有「年紀」、「單字」、「領域」、「前綴」、「字根」、「後綴」、「讀音」、「畫面形容」「領域應用」的問題，那這個問題要問資料庫的人有沒有聽過：
第三個人有，就看有沒有某一個「年紀」中，「單字」、「領域」、「前綴」、「字根」、「後綴」、「讀音」、「畫面形容」「領域應用」的問題：
如果有，就記下來，換另一個「年紀」中，「單字」、「領域」、「前綴」、「字根」、「後綴」、「讀音」、「畫面形容」「領域應用」的問題然後重寫。。
如果沒有，假設是x歲，寫完要問第二個人，「年紀」、「單字」、「領域」、「前綴」、「字根」、「後綴」、「讀音」中的「畫面形容」和「領域應用」在x歲可不可以解釋聽得懂：
如果不行要重寫。。
如果可以就把選定的領域的單字和在x歲聽得懂的解釋寫下來變成有「年紀」、「單字」、「領域」、「前綴」、「字根」、「後綴」、「讀音」、「畫面形容」「領域應用」的清單
沒有就寫在白板把年紀記起來，接下來找出單字的前綴和注意細節，寫下來，接下來找出單字的字根和注意細節，寫下來，接下來找出單字的後綴和注意細節，寫下來，接下來找出這個單字的讀音，寫下來，接下來用一個具體的動作或畫面來形容這個字（例如：串珍珠、流動的水），寫下來，接下來說明這個單字在他的領域的具體應用，寫下來，變成有「年紀」、「單字」、「領域」、「前綴」、「字根」、「後綴」、「讀音」、「畫面形容」、「領域應用」的清單
第一個人現在有一份有「年紀」、「單字」、「領域」、「前綴」、「字根」、「後綴」、「讀音」、「畫面形容」「領域應用」的清單如果第二個人看完評論了說
可以，而且第三個人沒看過，第一個人就可以讓第三個人收下，第一個人記在小本本「這個有「年紀」、「單字」、「領域」、「前綴」、「字根」、「後綴」、「讀音」、「畫面形容」「領域應用」的清單寫過了」，接下來再重新找一個。。
可以，但第三個人有看過，第一個人就不能讓第三個人收下，然後第一個人擦掉重寫。。

第二個人要把自己當成x（從0開始，一次加上五歲是區間）歲區間的人，第一個人會給你一份「單字」、「領域」、「前綴」、「字根」、「後綴」、「讀音」、「畫面形容」、「領域應用」的清單，如果這個x時候的人：
讀不懂「畫面形容」、「領域應用」，要跟第一個人說，他會修改回來，然後再看一次
看懂了「畫面形容」、「領域應用」，那就讓第一個人寫下來。
第三個人你有一個倉庫，是google sheet，a開始每九個是某年齡層的單字架子，你如果收到一份有「年紀」、「單字」、「領域」、「前綴」、「字根」、「後綴」、「讀音」、「畫面形容」「領域應用」的清單，要看第一個人有沒有第二個人的同意，如果：
有，再看看自己的倉庫有沒有放東西：
有，叫第一個人重寫
沒有，放第一個人的有「年紀」、「單字」、「領域」、「前綴」、「字根」、「後綴」、「讀音」、「畫面形容」「領域應用」的清單進去年齡層的架子
沒有，叫第一個人重寫

---

## 技術棧 (Technical Stack)

* **前端框架**: Streamlit
* **數據處理**: Pandas, JSON
* **雲端驅動**: Google Sheets API (via CSV export)
* **程式語言**: Python 3.13
